#### -*- mode:sh -*- vim:ft=sh
####
## No More than a C build system for clang, gcc and msvc.
## https://github.com/junjiemars/nore
####
## cc/version
####


version_n () {
	local s="$1"
	local v=( ${s//\./ } )
	local r=1000
	local v2=2 # major.minor
	local b=$(( r**v2 ))
	local n=0

	if [ 0 -eq ${#v[@]} ]; then
		echo $n
		return 1
	fi

	for i in ${v[@]}; do
		[ 0 -eq $v2 ] && break;
		n=$(( n+b*i ))
		b=$(( b/r ))
		v2=$(( v2-1 ))
	done

	echo $n
}

